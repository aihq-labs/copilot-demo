{
	"info": {
		"_postman_id": "copilot-agent-api",
		"name": "Copilot Studio Agent API",
		"description": "REST API for interacting with Microsoft Copilot Studio agents\n\n**Developed by AIHQ.ie**\n\nThis collection provides endpoints for:\n- Sending messages to Copilot agents\n- Managing conversations with context\n- Health checks and configuration\n\n**Setup:**\n1. Start the API server: `uvicorn api:app --reload --port 8000`\n2. Configure your `.env` file with agent credentials\n3. Import this collection into Postman\n4. Optionally set the `base_url` variable if not using localhost:8000",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "aihq-ie"
	},
	"item": [
		{
			"name": "Health Check",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/health",
					"host": ["{{base_url}}"],
					"path": ["health"]
				},
				"description": "Check if the API and agent are healthy. Returns agent status, schema name, environment ID, and initialization status."
			},
			"response": []
		},
		{
			"name": "Send Message (New Conversation)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"message\": \"Hello, how are you?\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/message",
					"protocol": "http",
					"host": ["{{base_url}}"],
					"path": ["message"]
				},
				"description": "Send a message to the agent without conversation context. A new conversation will be automatically created. The response includes a conversation_id that can be used for follow-up messages."
			},
			"response": []
		},
		{
			"name": "Send Message (With Context)",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"message\": \"What did I just ask?\",\n  \"conversation_id\": \"{{conversation_id}}\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/message",
					"protocol": "http",
					"host": ["{{base_url}}"],
					"path": ["message"]
				},
				"description": "Send a message with conversation context. Use the conversation_id from a previous response to maintain context across multiple messages. The agent will remember previous messages in the conversation."
			},
			"response": []
		},
		{
			"name": "Start Conversation",
			"request": {
				"method": "POST",
				"header": [],
				"url": {
					"raw": "{{base_url}}/conversation/start",
					"protocol": "http",
					"host": ["{{base_url}}"],
					"path": ["conversation", "start"]
				},
				"description": "Explicitly start a new conversation and get a conversation ID. This is optional - sending a message without a conversation_id will automatically create one. Use this if you want to get the conversation_id before sending the first message."
			},
			"response": []
		},
		{
			"name": "Get Conversation Details",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/conversation/{{conversation_id}}",
					"protocol": "http",
					"host": ["{{base_url}}"],
					"path": ["conversation", "{{conversation_id}}"]
				},
				"description": "Get metadata about a specific conversation, including when it was started and message count. Returns 404 if conversation not found."
			},
			"response": []
		},
		{
			"name": "List All Conversations",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/conversations",
					"protocol": "http",
					"host": ["{{base_url}}"],
					"path": ["conversations"]
				},
				"description": "List all active conversations tracked by the API. Returns total count and details for each conversation."
			},
			"response": []
		},
		{
			"name": "Delete Conversation",
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "{{base_url}}/conversation/{{conversation_id}}",
					"protocol": "http",
					"host": ["{{base_url}}"],
					"path": ["conversation", "{{conversation_id}}"]
				},
				"description": "End/delete a conversation from the API's tracking. This removes the conversation metadata but does not affect the agent's internal conversation state. Returns 404 if conversation not found."
			},
			"response": []
		},
		{
			"name": "Get Agent Configuration",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/config",
					"protocol": "http",
					"host": ["{{base_url}}"],
					"path": ["config"]
				},
				"description": "Get current agent configuration details including agent metadata, authentication settings, and API configuration. Useful for debugging and verification."
			},
			"response": []
		},
		{
			"name": "API Root",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/",
					"protocol": "http",
					"host": ["{{base_url}}"],
					"path": [""]
				},
				"description": "Get API information including version, available endpoints, and links to interactive documentation (Swagger UI at /docs and ReDoc at /redoc)."
			},
			"response": []
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8000",
			"type": "string",
			"description": "Base URL for the API. Default is localhost:8000. Change this if your API is running on a different host or port."
		},
		{
			"key": "conversation_id",
			"value": "",
			"type": "string",
			"description": "Conversation ID for maintaining context across messages. Set this automatically from the response of 'Send Message' or 'Start Conversation' requests."
		}
	]
}
